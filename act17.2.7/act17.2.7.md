# Reading Server Logs

Log files are an important tool for troubleshooting and monitoring. Different application generates different log files, each one containing its own set of fields and information. While the field structure may change between
log files, the tools used to read them are mostly the same. In this lab, you will learn about common tools used to read log file and practice using them.

### Reading Log Files with Cat, More, Less, and Tail

Log files are files used to record specific events triggered by applications, services or the operating system itself. Usually stored as plain-text, log files are an indispensable resource for troubleshooting.

### Opening Log Files

Log files commonly contain plain-text information which can be viewed by practically any program able to handle text (text editors, for example). However, because of convenience, usability, and speed, a few tools are more commonly used than others. 
This section focuses on four command-line-based programs: ``cat,
more, less, and tail.`` cat, derived from the word ‘concatenate’, is a UNIX, command-line-based tool used to read and display the contents of a file on the screen. Because of its simplicity and it can open a text file and display it in a text-only terminal, cat is widely used to this day.
- Start the CyberOps Worstation VM and open a terminal window.
- From the terminal window, issue the command below to display the contents of the logstash-tutorial.log file, located in the ``/home/analyst/lab.support.files/`` folder:
<pre>analyst@secOps ~$ cat /home/analyst/lab.support.files/logstash-tutorial.log</pre>
The contents of the file should scroll through the terminal window until the all contents have been displayed.

However cat cannot handle big log files.

Another popular tool for visualizing log files is ``more``. Similar to cat, more is also a UNIX command-linebased tool that can open a text-based file and display the file contents on the screen. The main difference between cat and more is that more supports page breaks, allowing the user to view the contents of a file,
one page at a time. 

This can be done using the space bar to display the next page.

From the same terminal window, use the command below to display the contents of the ``logstashtutorial.log`` file again. This time using more:

<pre>analyst@secOps ~$ more /home/analyst/lab.support.files/logstash-tutorial.log</pre>

The contents of the file should scroll through the terminal window and stop when one page is displayed.
Press the space bar to advance to the next page. Press enter to display the next line of text.

Building on the functionality of cat and more, the ``less`` tool allows the contents of a file to be displayed page by page, while also allowing the user the choice of viewing previously displayed pages.

The contents of the file should scroll through the terminal window and stop when one page is displayed.
Press the space bar to advance to the next page. Press enter to display the next line of text. Use the up
and down arrow keys to move back and forth through the text file.

Use the ``“q”`` key on your keyboard to exit the less tool.

The tail command displays the end of a text file. By default, tail displays the last ten lines of the file.

### Actively Following Logs

In some situations, it is desirable to monitor log files as log entries are written to the log files. For those cases, the ``tail -f`` command is very helpful.

### Log Files and Syslog

Because of their importance, it is common practice to concentrate log files in one monitoring computer.
``Syslog`` is a system designed to allow devices to send their log files to a centralized server, known as syslog server. Clients communicate to a syslog server using the syslog protocol. Syslog is commonly deployed and supports practically all computer platforms.

### Log Files and Journalctl

Another popular log management system is known as journal. Managed by the journald daemon, the system is designed to centralize the management of logs regardless of where the messages are originating.
In the context of this lab, the most evident feature of the journal system daemon is the use of append-only binary files serving as its log files.

<pre>journalctl --utc </pre>

to display all timestamps in UTC time:

<pre>journalctl -b </pre>

to display log entries recorded during the last boot:

Examples:

<pre>
sudo journalctl -u nginx.service --since today
sudo journalctl –k
sudo journalctl –f
</pre>

- Use journalctl to specify the service and timeframe for log entries. The command below shows all nginx service logs recorded today:
- Use the -k switch to display only messages generated by the kernel
- Similar to tail -f described above, use the -f switch to actively follow the logs as they are being written